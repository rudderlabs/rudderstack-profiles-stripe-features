inputs:
  - ids:
      - entity: user
        select: customers_id
        type: customer_id
    name: stripeCustomers
    occurred_at_col: timestamp
    table: analytics_db.data_apps_simulated_stripe.stripe_customers
  - ids:
      - entity: user
        select: customer
        type: customer_id
      - entity: user
        select: invoice
        type: invoice_id
      - entity: user
        select: charges_id
        type: charge_id
      - entity: user
        select: balance_transaction
        type: balance_transaction_id
    name: stripeCharges
    occurred_at_col: created
    table: analytics_db.data_apps_simulated_stripe.stripe_charges
  - ids:
      - entity: user
        select: invoices_id
        type: invoice_id
      - entity: user
        select: customer
        type: customer_id
    name: stripeInvoices
    occurred_at_col: to_timestamp(created)
    table: analytics_db.data_apps_simulated_stripe.stripe_invoices
  - ids:
      - entity: user
        select: id
        type: balance_transaction_id
    name: stripeBalanceHistory
    occurred_at_col: created
    table: analytics_db.data_apps_simulated_stripe.stripe_balance_history
  - ids:
      - entity: user
        select: subscriptions_id
        type: subscription_id
      - entity: user
        select: customer
        type: customer_id
    name: stripeSubscriptions
    occurred_at_col: created
    table: analytics_db.data_apps_simulated_stripe.stripe_subscriptions
  - ids:
      - entity: user
        select: charge
        type: charge_id
      - entity: user
        select: balance_transaction
        type: balance_transaction_id
    name: stripeRefunds
    occurred_at_col: created
    table: analytics_db.data_apps_simulated_stripe.stripe_refunds
  - ids:
      - entity: user
        select: customer
        type: customer_id
    name: stripeInvoicesView
    occurred_at_col: invoice_created_timestamp
    view: ANALYTICS_DB.DATA_APPS_SIMULATED_STRIPE.STG_INVOICES_DATA
